#{extends 'main.html' /}

<div class="row">
    <h3 class="subheader">Kanban List:</h3>
</div>
<div class="row">
    <ul class="grid_kanban">
        <li>
            <div class="alert-box secondary">
              <h4>This is a secondary alert (div.alert-box.secondary).</h4>
              <a href="" class="close">&times;</a>
            </div>
        </li> 
    #{list items:kanbans.kanban, as:'k'}
        <li>
        <div class="alert-box secondary">
        	<h4><a href="/kanbans/${k.id}">${k.name}</a></h4>
            <a href="javascript:deleteKanban(${k.id})" class="close">&times;</a>
        </div>
        </li>
    #{/list}
    </ul>
</div>

<div class="row">
    <a href="/kanbans/new"><span>new kanban</span></a>
</div>

<script type="text/javascript">

    function deleteKanban(kid)
    {
        var SM = new SimpleModal({hideHeader:true});
        SM.addButton("Yes", "btn primary", function(){
            new Delete("/kanbans").action(kid);
            this.hide();
        });
        SM.addButton("No", "btn");
        SM.show({
            "model":"modal",            
            "contents":"Are you sure ?",            
        });
    }

</script>